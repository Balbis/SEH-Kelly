{% capture children %}
  {% content_for 'blocks' %}
{% endcapture %}

{%- render 'modal', 
  block: block,
  settings: block.settings,
  children: children
-%}

{% schema %}
{
  "name": "Modal",
  "tag": "div",
  "class": "modal-block",
  "blocks": [
    {
      "type": "@theme"
    },
    {
      "type": "@app"
    }
  ],
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Modal title",
      "default": "Modal Title"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Open button text",
      "default": "Open Modal"
    },
    {
      "type": "select",
      "id": "button_style",
      "options": [
        {
          "value": "primary",
          "label": "Primary"
        },
        {
          "value": "secondary",
          "label": "Secondary"
        },
        {
          "value": "outline",
          "label": "Outline"
        }
      ],
      "default": "primary",
      "label": "Button style"
    },
    {
      "type": "select",
      "id": "modal_size",
      "options": [
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        },
        {
          "value": "full",
          "label": "Full width"
        }
      ],
      "default": "medium",
      "label": "Modal size"
    }
  ],
  "presets": [
    {
      "name": "Modal",
      "category": "Interactive"
    }
  ]
}
{% endschema %}
